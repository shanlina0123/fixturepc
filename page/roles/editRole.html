<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>角色列表</title>
    <link rel="icon" href="../../images/icon.ico">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../css/normalize.css">
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="../../layui/css/layui.css">
    <link rel="stylesheet" href="../../css/base.css">
    <link rel="stylesheet" href="../../css/style.css">
    <script src="../../js/modernizr-2.6.2.min.js"></script>
</head>

<body class="layui-layout-body">
    <div class="layui-layout layui-layout-admin">
        <!--顶部导航-->
        <div class="layui-header" id="header"></div>
        <!--左侧导航-->
        <div class="layui-side layui-bg-black" id="left"></div>
        <div class="layui-body">
            <div class="main">
                <h1 class="pageTitle">权限编辑</h1>
                <div class="editRoleWrap">
                    <form class="layui-form">
                        <div class="layui-form-item">
                            <label class="layui-form-label">角色</label>
                            <div class="layui-input-block">
                                <input type="text" placeholder="门店管理员" class="layui-input" readonly>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">配置权限</label>
                            <div class="layui-input-block">
                                <ul class="powerListUl">
                                    <li>
                                        <div class="basePower">
                                            <div class="powerName">菜单权限</div>
                                            <div class="basePowerWrap">
                                                <div class="allPower">
                                                    <input type="checkbox" lay-skin="primary" lay-filter="allChoose" title="活动管理">
                                                </div>
                                                <ul class="subPower">
                                                    <li>
                                                        <div class="subPowerName"><input type="checkbox" lay-skin="primary" lay-filter="subChoose" title="宣传活动"></div>
                                                        <div class="subPowers">
                                                            <input type="checkbox" lay-skin="primary" title="新建宣传">
                                                            <input type="checkbox" lay-skin="primary" title="宣传活动列表">
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="subPowerName"><input type="checkbox" lay-skin="primary" lay-filter="subChoose" title="幸运抽奖"></div>
                                                        <div class="subPowers">
                                                            <input type="checkbox" lay-skin="primary" title="新建抽奖活动">
                                                            <input type="checkbox" lay-skin="primary" title="抽奖活动列表">
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="otherPower">
                                            <div class="powerName">视野权限</div>
                                            <div class="powers">
                                                <input type="radio" name="see1" value="全部" title="全部" checked="">
                                                <input type="radio" name="see1" value="城市" title="城市">
                                                <input type="radio" name="see1" value="门店" title="门店">
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="basePower">
                                            <div class="powerName">菜单权限</div>
                                            <div class="basePowerWrap">
                                                <div class="allPower">
                                                    <input type="checkbox" lay-skin="primary" lay-filter="allChoose" title="项目管理">
                                                </div>
                                                <ul class="subPower">
                                                    <li>
                                                        <div class="subPowerName">
                                                            <input type="checkbox" lay-skin="primary" title="宣传活动">
                                                            <input type="checkbox" lay-skin="primary" title="项目列表">
                                                            <input type="checkbox" lay-skin="primary" title="阶段模板">
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="otherPower">
                                            <div class="powerName">视野权限</div>
                                            <div class="powers">
                                                <input type="radio" name="see2" value="全部" title="全部" checked="">
                                                <input type="radio" name="see2" value="城市" title="城市">
                                                <input type="radio" name="see2" value="门店" title="门店">
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="basePower">
                                            <div class="powerName">菜单权限</div>
                                            <div class="basePowerWrap">
                                                <div class="allPower">
                                                    <input type="checkbox" lay-skin="primary" lay-filter="allChoose" title="客户管理">
                                                </div>
                                                <ul class="subPower">
                                                    <li>
                                                        <div class="subPowerName">
                                                            <input type="checkbox" lay-skin="primary" title="预约客户">
                                                            <input type="checkbox" lay-skin="primary" title="抽奖客户">
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="otherPower">
                                            <div class="powerName">视野权限</div>
                                            <div class="powers">
                                                <input type="radio" name="see3" value="全部" title="全部" checked="">
                                                <input type="radio" name="see3" value="城市" title="城市">
                                                <input type="radio" name="see3" value="门店" title="门店">
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="basePower">
                                            <div class="powerName">菜单权限</div>
                                            <div class="basePowerWrap">
                                                <div class="allPower">
                                                    <input type="checkbox" lay-skin="primary" lay-filter="allChoose" title="门店管理">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="otherPower">
                                            <div class="powerName">视野权限</div>
                                            <div class="powers">
                                                <input type="radio" name="see4" value="全部" title="全部" checked="">
                                                <input type="radio" name="see4" value="城市" title="城市">
                                                <input type="radio" name="see4" value="门店" title="门店">
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="basePower">
                                            <div class="powerName">菜单权限</div>
                                            <div class="basePowerWrap">
                                                <div class="allPower">
                                                    <input type="checkbox" lay-skin="primary" lay-filter="allChoose" title="用户管理">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="otherPower">
                                            <div class="powerName">视野权限</div>
                                            <div class="powers">
                                                <input type="radio" name="see5" value="全部" title="全部" checked="">
                                                <input type="radio" name="see5" value="城市" title="城市">
                                                <input type="radio" name="see5" value="门店" title="门店">
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="basePower">
                                            <div class="powerName">菜单权限</div>
                                            <div class="basePowerWrap">
                                                <div class="allPower">
                                                    <input type="checkbox" lay-skin="primary" lay-filter="allChoose" title="角色管理">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="otherPower">
                                            <div class="powerName">视野权限</div>
                                            <div class="powers">
                                                <input type="radio" name="see6" value="全部" title="全部" checked="">
                                                <input type="radio" name="see6" value="城市" title="城市">
                                                <input type="radio" name="see6" value="门店" title="门店">
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="basePower">
                                            <div class="powerName">菜单权限</div>
                                            <div class="basePowerWrap">
                                                <div class="allPower">
                                                    <input type="checkbox" lay-skin="primary" lay-filter="allChoose" title="数据管理">
                                                </div>
                                                <ul class="subPower">
                                                    <li>
                                                        <div class="subPowerName">
                                                            <input type="checkbox" lay-skin="primary" title="数据概览">
                                                            <input type="checkbox" lay-skin="primary" title="客户分析">
                                                            <input type="checkbox" lay-skin="primary" title="活动分析">
                                                            <input type="checkbox" lay-skin="primary" title="项目分析">
                                                            <input type="checkbox" lay-skin="primary" title="营销排行">
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="otherPower">
                                            <div class="powerName">视野权限</div>
                                            <div class="powers">
                                                <input type="radio" name="see7" value="全部" title="全部" checked="">
                                                <input type="radio" name="see7" value="城市" title="城市">
                                                <input type="radio" name="see7" value="门店" title="门店">
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="basePower">
                                            <div class="powerName">菜单权限</div>
                                            <div class="basePowerWrap">
                                                <div class="allPower">
                                                    <input type="checkbox" lay-skin="primary" lay-filter="allChoose" title="系统属性">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="otherPower">
                                            <div class="powerName">视野权限</div>
                                            <div class="powers">
                                                <input type="radio" name="see8" value="全部" title="全部" checked="">
                                                <input type="radio" name="see8" value="城市" title="城市">
                                                <input type="radio" name="see8" value="门店" title="门店">
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="basePower">
                                            <div class="powerName">菜单权限</div>
                                            <div class="basePowerWrap">
                                                <div class="allPower">
                                                    <input type="checkbox" lay-skin="primary" lay-filter="allChoose" title="消息管理">
                                                </div>
                                                <ul class="subPower">
                                                    <li>
                                                        <div class="subPowerName">
                                                            <input type="checkbox" lay-skin="primary" title="通知消息">
                                                            <input type="checkbox" lay-skin="primary" title="咨询消息">
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="otherPower">
                                            <div class="powerName">视野权限</div>
                                            <div class="powers">
                                                <input type="radio" name="see9" value="全部" title="全部" checked="">
                                                <input type="radio" name="see9" value="城市" title="城市">
                                                <input type="radio" name="see9" value="门店" title="门店">
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="submitButWrap">
                            <button type="button" class="layui-btn">立即提交</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript" src="../../layui/layui.js"></script>
<script type="text/javascript" src="../../js/common.js"></script>
<script>
    layui.use(['form', 'layer', 'jquery'], function() {
        var form = layui.form,
            layer = layui.layer,
            $ = layui.jquery;
        //全选全不选
        form.on('checkbox(allChoose)', function(data) {
            var childCheck = $(data.elem).parents(".allPower").siblings(".subPower").find("input");
            childCheck.each(function(index, item) {
                item.checked = data.elem.checked;
            });
            form.render('checkbox');
        });
        //活动管理二级权限全选反选
        form.on('checkbox(subChoose)', function(data) {
            var childCheck = $(data.elem).parents(".subPowerName").siblings(".subPowers").find("input");
            childCheck.each(function(index, item) {
                item.checked = data.elem.checked;
            });
            form.render('checkbox');
        });
    });
</script>

</html>